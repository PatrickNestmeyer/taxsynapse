\hypertarget{class_import_1_1zugferd_handler}{}\section{Import.\+zugferd\+Handler Class Reference}
\label{class_import_1_1zugferd_handler}\index{Import.\+zugferd\+Handler@{Import.\+zugferd\+Handler}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Invoice \hyperlink{class_import_1_1zugferd_handler_aea79c23595f003c943e908c95276ecf9}{read\+Invoice} (String Path)  throws I\+O\+Exception
\item 
void \hyperlink{class_import_1_1zugferd_handler_a693fba6ff3bd23bb4783578b385e38a4}{read\+Invoice} (String Path, List$<$ \hyperlink{class_reduced_invoice_1_1_a_invoice}{A\+Invoice} $>$ Reduced\+Invoice\+List, final boolean set\+Logging, final boolean supress\+Invalid)  throws Exception 	
\item 
void \hyperlink{class_import_1_1zugferd_handler_aa5fbab8b4a7835f2b13167452f9d17db}{remove\+Invalid} (List$<$ Invoice $>$ Invoice\+List)
\item 
boolean \hyperlink{class_import_1_1zugferd_handler_a6999d186193b120650a5d24a49d10c6c}{has\+Invalid} (List$<$ Invoice $>$ Invoice\+List)
\item 
Set$<$ Constraint\+Violation$<$ Invoice $>$ $>$ \hyperlink{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}{get\+Violations} (Invoice invoice)
\item 
void \hyperlink{class_import_1_1zugferd_handler_ae8ae1fcc05ebddf4d2b53c8daeda7b00}{print\+Violations} (List$<$ Invoice $>$ Invoice\+List)
\item 
void \hyperlink{class_import_1_1zugferd_handler_aadb33b773805373add19d92eb713831b}{print\+Single\+Invoice\+Violations} (Invoice invoice)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_import_1_1zugferd_handler}{zugferd\+Handler} \hyperlink{class_import_1_1zugferd_handler_ad3acd84340c8a5fcb2c01a2636979786}{get\+Instance} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 23 of file zugferd\+Handler.\+java.



\subsection{Member Function Documentation}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!get\+Instance@{get\+Instance}}
\index{get\+Instance@{get\+Instance}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{get\+Instance()}{getInstance()}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf zugferd\+Handler} Import.\+zugferd\+Handler.\+get\+Instance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_import_1_1zugferd_handler_ad3acd84340c8a5fcb2c01a2636979786}{}\label{class_import_1_1zugferd_handler_ad3acd84340c8a5fcb2c01a2636979786}


Definition at line 29 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
29                                               \{
30         \textcolor{keywordflow}{if}(uniqueInstance == null) \{
31             \textcolor{keyword}{synchronized}(zugferdHandler.class)\{
32                 \textcolor{keywordflow}{if}(uniqueInstance == null)\{
33                     uniqueInstance = \textcolor{keyword}{new} zugferdHandler();
34                 \}
35             \}
36         \}
37         \textcolor{keywordflow}{return} uniqueInstance;
38     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!get\+Violations@{get\+Violations}}
\index{get\+Violations@{get\+Violations}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{get\+Violations(\+Invoice invoice)}{getViolations(Invoice invoice)}}]{\setlength{\rightskip}{0pt plus 5cm}Set$<$Constraint\+Violation$<$Invoice$>$ $>$ Import.\+zugferd\+Handler.\+get\+Violations (
\begin{DoxyParamCaption}
\item[{Invoice}]{invoice}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}{}\label{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}


Definition at line 131 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
131                                                                             \{
132         
133         InvoiceValidator invoiceValidator = \textcolor{keyword}{new} InvoiceValidator();
134        
135         Set<ConstraintViolation<Invoice>> violations = invoiceValidator.validate(invoice);
136         
137         \textcolor{keywordflow}{return} violations;
138     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!has\+Invalid@{has\+Invalid}}
\index{has\+Invalid@{has\+Invalid}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{has\+Invalid(\+List$<$ Invoice $>$ Invoice\+List)}{hasInvalid(List< Invoice > InvoiceList)}}]{\setlength{\rightskip}{0pt plus 5cm}boolean Import.\+zugferd\+Handler.\+has\+Invalid (
\begin{DoxyParamCaption}
\item[{List$<$ Invoice $>$}]{Invoice\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_a6999d186193b120650a5d24a49d10c6c}{}\label{class_import_1_1zugferd_handler_a6999d186193b120650a5d24a49d10c6c}


Definition at line 122 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
122                                                         \{
123         
124         \textcolor{keywordflow}{for} (Invoice temp : InvoiceList) \{
125             \textcolor{keywordflow}{if}(this.\hyperlink{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}{getViolations}(temp) != null)
126                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
127         \}
128         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
129     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!print\+Single\+Invoice\+Violations@{print\+Single\+Invoice\+Violations}}
\index{print\+Single\+Invoice\+Violations@{print\+Single\+Invoice\+Violations}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{print\+Single\+Invoice\+Violations(\+Invoice invoice)}{printSingleInvoiceViolations(Invoice invoice)}}]{\setlength{\rightskip}{0pt plus 5cm}void Import.\+zugferd\+Handler.\+print\+Single\+Invoice\+Violations (
\begin{DoxyParamCaption}
\item[{Invoice}]{invoice}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_aadb33b773805373add19d92eb713831b}{}\label{class_import_1_1zugferd_handler_aadb33b773805373add19d92eb713831b}


Definition at line 154 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
154                                                              \{
155         
156         InvoiceValidator invoiceValidator = \textcolor{keyword}{new} InvoiceValidator();
157         
158         Set<ConstraintViolation<Invoice>> violations = invoiceValidator.validate(invoice);
159         
160         \textcolor{keywordflow}{for} (ConstraintViolation<Invoice> violation : violations) \{
161              System.out.println((violation.getMessage() + \textcolor{stringliteral}{" at: "} + violation.getPropertyPath()));
162            \}
163     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!print\+Violations@{print\+Violations}}
\index{print\+Violations@{print\+Violations}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{print\+Violations(\+List$<$ Invoice $>$ Invoice\+List)}{printViolations(List< Invoice > InvoiceList)}}]{\setlength{\rightskip}{0pt plus 5cm}void Import.\+zugferd\+Handler.\+print\+Violations (
\begin{DoxyParamCaption}
\item[{List$<$ Invoice $>$}]{Invoice\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_ae8ae1fcc05ebddf4d2b53c8daeda7b00}{}\label{class_import_1_1zugferd_handler_ae8ae1fcc05ebddf4d2b53c8daeda7b00}


Definition at line 140 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
140                                                           \{
141         
142         InvoiceValidator invoiceValidator = \textcolor{keyword}{new} InvoiceValidator();
143         
144         Set<ConstraintViolation<Invoice>> violations;
145         
146         \textcolor{keywordflow}{for} (Invoice temp : InvoiceList) \{
147             violations = invoiceValidator.validate(temp);
148             \textcolor{keywordflow}{for} (ConstraintViolation<Invoice> violation : violations) \{
149                  System.out.println((violation.getMessage() + \textcolor{stringliteral}{" at: "} + violation.getPropertyPath()));
150             \}
151         \}
152     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!read\+Invoice@{read\+Invoice}}
\index{read\+Invoice@{read\+Invoice}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{read\+Invoice(\+String Path)}{readInvoice(String Path)}}]{\setlength{\rightskip}{0pt plus 5cm}Invoice Import.\+zugferd\+Handler.\+read\+Invoice (
\begin{DoxyParamCaption}
\item[{String}]{Path}
\end{DoxyParamCaption}
) throws I\+O\+Exception\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_aea79c23595f003c943e908c95276ecf9}{}\label{class_import_1_1zugferd_handler_aea79c23595f003c943e908c95276ecf9}


Definition at line 40 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
40                                                               \{
41         
42         PdfHandler handler = \textcolor{keyword}{new} PdfHandler();
43         
44         FileInputStream input = \textcolor{keyword}{new} FileInputStream(\textcolor{keyword}{new} File(Path));
45         
46         Invoice invoice = handler.extractInvoice(input);
47         
48         \textcolor{keywordflow}{if}(invoice != null)
49             \textcolor{keywordflow}{return} invoice;
50         \textcolor{keywordflow}{else}
51             \textcolor{keywordflow}{return} null;
52     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!read\+Invoice@{read\+Invoice}}
\index{read\+Invoice@{read\+Invoice}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{read\+Invoice(\+String Path, List$<$ A\+Invoice $>$ Reduced\+Invoice\+List, final boolean set\+Logging, final boolean supress\+Invalid)}{readInvoice(String Path, List< AInvoice > ReducedInvoiceList, final boolean setLogging, final boolean supressInvalid)}}]{\setlength{\rightskip}{0pt plus 5cm}void Import.\+zugferd\+Handler.\+read\+Invoice (
\begin{DoxyParamCaption}
\item[{String}]{Path, }
\item[{List$<$ {\bf A\+Invoice} $>$}]{Reduced\+Invoice\+List, }
\item[{final boolean}]{set\+Logging, }
\item[{final boolean}]{supress\+Invalid}
\end{DoxyParamCaption}
) throws Exception\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_a693fba6ff3bd23bb4783578b385e38a4}{}\label{class_import_1_1zugferd_handler_a693fba6ff3bd23bb4783578b385e38a4}


Definition at line 54 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
55     \{
56         InvoiceReducer ir = InvoiceReducer.getInstance();
57         \textcolor{comment}{//Recursive => elem can be a folder or a file }
58         Files.walk(Paths.get(Path)).forEach(elem -> \{
59             String fileName = elem.getFileName().toString();
60             String path = elem.toString();
61             \textcolor{keywordflow}{try}\{
62                 \textcolor{keywordflow}{if} (Files.isDirectory(elem))\{
63                     \textcolor{keywordflow}{if}(setLogging)\{ System.out.println(\textcolor{stringliteral}{"recursive entry. elem is just a directory."}); \}
64                 \}\textcolor{keywordflow}{else}\{  \textcolor{keywordflow}{if}(Files.isRegularFile(elem))\{
65                     \textcolor{keywordflow}{if}(Files.probeContentType(elem).intern() == \textcolor{stringliteral}{"application/pdf"})\{
66                         Invoice invoice = this.\hyperlink{class_import_1_1zugferd_handler_aea79c23595f003c943e908c95276ecf9}{readInvoice}(path);
67                         \textcolor{keywordflow}{if}(invoice != null) \{
68                             \textcolor{keywordtype}{boolean} add = \textcolor{keyword}{false};
69                             \textcolor{keywordflow}{if}(supressInvalid)\{
70                                 Set<ConstraintViolation<Invoice>> violations = this.
      \hyperlink{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}{getViolations}(invoice);
71                                 \textcolor{keywordflow}{if}((violations.size() > 0))\{
72                                     \textcolor{keywordflow}{if}(setLogging)\{ System.out.println(\textcolor{stringliteral}{"Violatins found in: "} + fileName); 
      \}
73                                     \textcolor{keywordflow}{if}(setLogging)\{ 
74                                         violations.forEach(vio -> \{
75                                             System.out.println(vio.getExecutableReturnValue() + \textcolor{stringliteral}{"|"} + vio.
      getLeafBean() + \textcolor{stringliteral}{"|"} + vio.getInvalidValue() + \textcolor{stringliteral}{"|"} + vio.getMessage());
76                                         \});
77                                     \}
78                                     add = \textcolor{keyword}{false};
79                                 \}\textcolor{keywordflow}{else}\{
80                                     add = \textcolor{keyword}{true};
81                                 \}
82                             \}\textcolor{keywordflow}{else}\{
83                                 add = \textcolor{keyword}{true};
84                             \}
85                             \textcolor{keywordflow}{if}(add)\{
86                                 \textcolor{keywordflow}{if}(setLogging)\{ System.out.println(fileName + \textcolor{stringliteral}{" is valid."} ); \}
87                                 ReducedInvoiceList.add(ir.ConvertInvoiceToRinvoice(invoice, fileName));
88                                 \textcolor{keywordflow}{if}(setLogging)\{ System.out.println( fileName + \textcolor{stringliteral}{" added to the list."}); \}
89                             \}
90                         \}
91                     \}\textcolor{keywordflow}{else}\{
92                         \textcolor{keywordflow}{if}(setLogging)\{ System.out.println(\textcolor{stringliteral}{"a non pdf file was found. Ignoring..."}); \}
93                     \}
94                 \}\textcolor{keywordflow}{else}\{
95                     \textcolor{keywordflow}{if}(setLogging)\{ System.out.println(\textcolor{stringliteral}{"elem is neither a directory nor a file. Ignoring...
      "}); \}
96                 \}\}
97             \}\textcolor{keywordflow}{catch}(TransformationException tfe)\{
98                 \textcolor{keywordflow}{if}(setLogging)\{ 
99                     System.out.println(fileName + \textcolor{stringliteral}{" caused an Exception while transforming PDF/ZUGFERD to
       Java/Invoice"});
100                     System.out.println(\textcolor{stringliteral}{"Message: "} + tfe.getMessage());
101                 \}
102             \}\textcolor{keywordflow}{catch}(IOException ioe)\{
103                 \textcolor{keywordflow}{if}(setLogging)\{ 
104                     System.out.println(fileName + \textcolor{stringliteral}{" caused an IOException."});
105                     System.out.println(\textcolor{stringliteral}{"Message: "} + ioe.getMessage());
106                 \}
107             \}\textcolor{keywordflow}{catch}(Exception e)\{
108                 \textcolor{keywordflow}{if}(setLogging)\{ 
109                     System.out.println(fileName + \textcolor{stringliteral}{" caused an Exception."});
110                     System.out.println(fileName + \textcolor{stringliteral}{" caused an Exception."});
111                 \}
112             \}
113         \});
114     \}
\end{DoxyCode}
\index{Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}!remove\+Invalid@{remove\+Invalid}}
\index{remove\+Invalid@{remove\+Invalid}!Import\+::zugferd\+Handler@{Import\+::zugferd\+Handler}}
\subsubsection[{\texorpdfstring{remove\+Invalid(\+List$<$ Invoice $>$ Invoice\+List)}{removeInvalid(List< Invoice > InvoiceList)}}]{\setlength{\rightskip}{0pt plus 5cm}void Import.\+zugferd\+Handler.\+remove\+Invalid (
\begin{DoxyParamCaption}
\item[{List$<$ Invoice $>$}]{Invoice\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_import_1_1zugferd_handler_aa5fbab8b4a7835f2b13167452f9d17db}{}\label{class_import_1_1zugferd_handler_aa5fbab8b4a7835f2b13167452f9d17db}


Definition at line 117 of file zugferd\+Handler.\+java.


\begin{DoxyCode}
117                                                         \{
118         
119         InvoiceList.removeIf(i -> \hyperlink{class_import_1_1zugferd_handler_acf26740b73f820812fadb01ccf712dd2}{getViolations}(i).size() <= 0);
120     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Denis/workspace/taxsynapse/src/main/java/\+Import/\hyperlink{zugferd_handler_8java}{zugferd\+Handler.\+java}\end{DoxyCompactItemize}
