\hypertarget{class_reduced_invoice_1_1_invoice_reducer}{\section{Reduced\-Invoice.\-Invoice\-Reducer Class Reference}
\label{class_reduced_invoice_1_1_invoice_reducer}\index{Reduced\-Invoice.\-Invoice\-Reducer@{Reduced\-Invoice.\-Invoice\-Reducer}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_reduced_invoice_1_1_r_invoice}{R\-Invoice} \hyperlink{class_reduced_invoice_1_1_invoice_reducer_ad568f2f09dfbdf8fc59a0a8bed9cac1c}{Convert\-Invoice\-To\-Rinvoice} (Invoice invoice, String Beleglink)
\item 
void \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a22a3a25f59d72d785550054199c9bea9}{Add\-Meta\-Information} (Invoice invoice, \hyperlink{class_reduced_invoice_1_1_r_invoice}{R\-Invoice} return\-Value, String Beleglink)
\item 
\hyperlink{class_reduced_invoice_1_1_price}{Price} \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a6caff41f142502c44cbeefc7b1e44c9d}{check\-Monetary\-Summation} (Monetary\-Summation gesamtpreis)
\item 
void \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a599dbd87601635791534a8624cb8f953}{Add\-Positions} (Invoice invoice, \hyperlink{class_reduced_invoice_1_1_r_invoice}{R\-Invoice} return\-Value)
\item 
void \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a47e121912714be2caea8d2619c10a2f0}{validate\-Invoice} (\hyperlink{class_reduced_invoice_1_1_r_invoice}{R\-Invoice} return\-Value)
\item 
float \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}{Runden} (float a)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_reduced_invoice_1_1_invoice_reducer}{Invoice\-Reducer} \hyperlink{class_reduced_invoice_1_1_invoice_reducer_ad4fafc7b331a78ef243c3e3ba88803da}{get\-Instance} ()
\item 
static int \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a987de6f3876284a7b456240f85dc066f}{get\-Meta\-Exception\-Counter} ()
\item 
static int \hyperlink{class_reduced_invoice_1_1_invoice_reducer_ad5034d72d8eae0edc2026c9ca9e66465}{get\-Position\-Exception\-Counter} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 10 of file Invoice\-Reducer.\-java.



\subsection{Member Function Documentation}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a22a3a25f59d72d785550054199c9bea9}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!Add\-Meta\-Information@{Add\-Meta\-Information}}
\index{Add\-Meta\-Information@{Add\-Meta\-Information}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{Add\-Meta\-Information}]{\setlength{\rightskip}{0pt plus 5cm}void Reduced\-Invoice.\-Invoice\-Reducer.\-Add\-Meta\-Information (
\begin{DoxyParamCaption}
\item[{Invoice}]{invoice, }
\item[{{\bf R\-Invoice}}]{return\-Value, }
\item[{String}]{Beleglink}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a22a3a25f59d72d785550054199c9bea9}

\begin{DoxyParams}{Parameters}
{\em invoice} & \\
\hline
{\em return\-Value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 74 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
75     \{
76         \textcolor{keywordflow}{try}
77         \{
78             returnValue.setBeleglink(Beleglink);
79             \textcolor{keywordflow}{if}(invoice.getHeader().getIssued() != null)
80             \{
81                 returnValue.setInvoiceDate(\textcolor{keyword}{new} Date(
82                         invoice.getHeader().getIssued().getYear(), 
83                         invoice.getHeader().getIssued().getMonth(), 
84                         invoice.getHeader().getIssued().getDay()));
85             \}
86             returnValue.setInvoiceNumber(invoice.getHeader().getInvoiceNumber());  \textcolor{comment}{//wichtig}
87             returnValue.setBuyerName(invoice.getTrade().getAgreement().getBuyer().getName());
88             returnValue.setSellerName(invoice.getTrade().getAgreement().getSeller().getName());
89             returnValue.setCurrency(invoice.getTrade().getSettlement().getCurrency().getName());
90             
91             returnValue.setTotalPrice(\hyperlink{class_reduced_invoice_1_1_invoice_reducer_a6caff41f142502c44cbeefc7b1e44c9d}{checkMonetarySummation}(invoice.getTrade()
      .getSettlement().getMonetarySummation())); 
92         \}
93         \textcolor{keywordflow}{catch}(Exception e)
94         \{
95             this.MetaExceptionCounter++;
96         \}
97     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a599dbd87601635791534a8624cb8f953}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!Add\-Positions@{Add\-Positions}}
\index{Add\-Positions@{Add\-Positions}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{Add\-Positions}]{\setlength{\rightskip}{0pt plus 5cm}void Reduced\-Invoice.\-Invoice\-Reducer.\-Add\-Positions (
\begin{DoxyParamCaption}
\item[{Invoice}]{invoice, }
\item[{{\bf R\-Invoice}}]{return\-Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a599dbd87601635791534a8624cb8f953}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]if elem.\-get\-Delivery().get\-Billed().get\-Unit\-Code() == null \end{DoxyRefDesc}

\begin{DoxyParams}{Parameters}
{\em invoice} & \\
\hline
{\em return\-Value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 161 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
162     \{
163         \textcolor{keywordflow}{try}
164         \{
165         \textcolor{keywordtype}{int} lastPosition = -1;
166         String lastPositionName = \textcolor{stringliteral}{""};
167         
168         \textcolor{keywordflow}{for}(Item elem : invoice.getTrade().getItems())
169         \{
170             \textcolor{keywordflow}{if}(elem != null)
171             \{
172                 String Measurement = \textcolor{stringliteral}{""};
173                 \textcolor{keywordtype}{int} amount = 1;
174                 \textcolor{keywordtype}{float} lineTaxPerc = 0;
175                 \textcolor{keywordtype}{float} lineSumNet = 0;
176                 \textcolor{keywordtype}{float} lineSumGross = 0;
177                 Error positionerror = \hyperlink{enum_reduced_invoice_1_1_a_invoice_1_1_error_ab758351b18ce3163abca9924287fc6df}{Error.NO\_ERROR};
178                 
179                 \textcolor{comment}{// Preis einer Position}
180                 \textcolor{keywordflow}{if}(elem.getSettlement() != null)
181                 \{
182                     \textcolor{keywordflow}{if}(elem.getSettlement().getMonetarySummation() != null)
183                     \{
184                         lineSumNet = elem.getSettlement().getMonetarySummation().getLineTotal().getValue()
      .floatValue();
185                     \}
186                     \textcolor{keywordflow}{else}
187                     \{
188                         positionerror = \hyperlink{enum_reduced_invoice_1_1_a_invoice_1_1_error_a5c521b3b1cc9827b5dba56d42a770481}{Error.PRICE\_ERROR};
189                     \}
190                     \textcolor{keywordflow}{if}(elem.getSettlement().getTradeTax() != null  && elem.getSettlement().getTradeTax().
      size() >= 1)
191                     \{
192                         lineTaxPerc = elem.getSettlement().getTradeTax().get(0).getPercentage().floatValue(
      );
193                         lineSumGross = lineSumNet + ( (lineSumNet * lineTaxPerc) / 100 );
194                     \}
195                     \textcolor{keywordflow}{else}
196                     \{
197                         positionerror = \hyperlink{enum_reduced_invoice_1_1_a_invoice_1_1_error_a5c521b3b1cc9827b5dba56d42a770481}{Error.PRICE\_ERROR};
198                     \}
199                 \}
200                 
201                 \textcolor{comment}{// Name der Position}
202                 \textcolor{keywordflow}{if}(elem.getProduct() != null)
203                 \{
204                     \textcolor{keywordflow}{if}(elem.getProduct().getName() != null)
205                     \{
206                         \textcolor{keywordflow}{if}(elem.getDelivery().getBilled() != null)
207                         \{
208                             Measurement = elem.getDelivery().getBilled().getUnitCode();
209                             amount = elem.getDelivery().getBilled().getValue().intValue();
210                         \}
211                         \textcolor{keywordflow}{if}(lastPosition == -1)
212                         \{
213                             lastPositionName = elem.getProduct().getName();
214                             returnValue.addPosition( \textcolor{keyword}{new} Position(
215                                     elem.getProduct().getName(),
216                                     \textcolor{keyword}{new} Price(lineSumGross, lineSumNet, lineTaxPerc),
217                                     Measurement,
218                                     amount,
219                                     (int)(lineTaxPerc),
220                                     positionerror));
221                             lastPosition++;
222                         \}
223                         \textcolor{keywordflow}{else}
224                         \{
225                             \textcolor{keywordflow}{if}(lastPositionName.equals(elem.getProduct().getName()))
226                             \{
227                                 returnValue.getPosition(lastPosition).setAmount(returnValue.getPosition(
      lastPosition).getAmount() + elem.getDelivery().getBilled().getValue().intValue());
228                             \}
229                             \textcolor{keywordflow}{else}
230                             \{
231                                 \textcolor{comment}{/* }
232 \textcolor{comment}{                                 * @todo if elem.getDelivery().getBilled().getUnitCode() == null}
233 \textcolor{comment}{                                 */}
234                                 lastPositionName = elem.getProduct().getName();
235                                 returnValue.addPosition( \textcolor{keyword}{new} Position(
236                                         elem.getProduct().getName(),
237                                         \textcolor{keyword}{new} Price(lineSumGross, lineSumNet, lineTaxPerc),
238                                         Measurement,
239                                         amount,
240                                         (int)(lineTaxPerc),
241                                         positionerror));
242                                 lastPosition++;     
243                             \}
244 
245                         \}
246                     \}
247                 \}
248                 
249             \}
250         \}
251         \}
252         \textcolor{keywordflow}{catch}(Exception e)
253         \{
254             this.PositionExceptionCounter++;
255         \}
256     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a6caff41f142502c44cbeefc7b1e44c9d}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!check\-Monetary\-Summation@{check\-Monetary\-Summation}}
\index{check\-Monetary\-Summation@{check\-Monetary\-Summation}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{check\-Monetary\-Summation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Price} Reduced\-Invoice.\-Invoice\-Reducer.\-check\-Monetary\-Summation (
\begin{DoxyParamCaption}
\item[{Monetary\-Summation}]{gesamtpreis}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a6caff41f142502c44cbeefc7b1e44c9d}


Definition at line 99 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
100     \{
101         \textcolor{keywordtype}{float} GrandTotal = 0;
102         \textcolor{keywordtype}{float} TaxBasisTotal = 0;
103         \textcolor{keywordtype}{float} TaxTotal = 0;
104         \textcolor{keywordtype}{boolean}[] TotalPrice = \textcolor{keyword}{new} \textcolor{keywordtype}{boolean}[3];
105         \textcolor{keywordtype}{int} count = 0;
106         
107         \textcolor{keywordflow}{if}(gesamtpreis.getGrandTotal() != null)
108         \{
109             \textcolor{keywordflow}{if}(gesamtpreis.getGrandTotal().getValue() != null)
110             \{
111                 GrandTotal = gesamtpreis.getGrandTotal().getValue().floatValue();
112                 TotalPrice[0] = \textcolor{keyword}{true};
113                 count++;
114             \}
115         \}
116         \textcolor{keywordflow}{if}(gesamtpreis.getTaxBasisTotal() != null)
117         \{
118             \textcolor{keywordflow}{if}(gesamtpreis.getTaxBasisTotal().getValue() != null)
119             \{
120                 TaxBasisTotal = gesamtpreis.getTaxBasisTotal().getValue().floatValue();
121                 TotalPrice[1] = \textcolor{keyword}{true};
122                 count++;
123             \}
124         \}
125         \textcolor{keywordflow}{if}(gesamtpreis.getTaxTotal() != null)
126         \{
127             \textcolor{keywordflow}{if}(gesamtpreis.getTaxTotal().getValue() != null)
128             \{
129                 TaxTotal = gesamtpreis.getTaxTotal().getValue().floatValue();
130                 TotalPrice[2] = \textcolor{keyword}{true};
131                 count++;
132             \}
133         \}
134         
135         \textcolor{keywordflow}{if}(count == 2)
136         \{
137             \textcolor{keywordflow}{if}(TotalPrice[0] == \textcolor{keyword}{false})
138             \{
139                 GrandTotal = TaxBasisTotal + TaxTotal;              
140             \}
141             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(TotalPrice[1] == \textcolor{keyword}{false})
142             \{
143                 TaxBasisTotal = GrandTotal - TaxTotal;
144             \}
145             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(TotalPrice[2] == \textcolor{keyword}{false})
146             \{
147                 TaxTotal = GrandTotal - TaxBasisTotal;
148             \}
149         \}
150         
151         \textcolor{keywordflow}{return} \textcolor{keyword}{new} Price(GrandTotal, TaxBasisTotal, TaxTotal);
152     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_ad568f2f09dfbdf8fc59a0a8bed9cac1c}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!Convert\-Invoice\-To\-Rinvoice@{Convert\-Invoice\-To\-Rinvoice}}
\index{Convert\-Invoice\-To\-Rinvoice@{Convert\-Invoice\-To\-Rinvoice}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{Convert\-Invoice\-To\-Rinvoice}]{\setlength{\rightskip}{0pt plus 5cm}{\bf R\-Invoice} Reduced\-Invoice.\-Invoice\-Reducer.\-Convert\-Invoice\-To\-Rinvoice (
\begin{DoxyParamCaption}
\item[{Invoice}]{invoice, }
\item[{String}]{Beleglink}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_ad568f2f09dfbdf8fc59a0a8bed9cac1c}
veraltet


\begin{DoxyParams}{Parameters}
{\em Invoice\-List} & \\
\hline
{\em Reduced\-Invoice\-List} & public void Reduced\-Invoice\-List(\-List$<$\-Invoice$>$ Invoice\-List, List$<$\-A\-Invoice$>$ Reduced\-Invoice\-List) \{ for(int i = 0; i $<$ Invoice\-List.\-size(); i++) \{ try \{ if(Invoice\-List.\-get(i) != null) \{ \hyperlink{class_reduced_invoice_1_1_r_invoice}{R\-Invoice} add\-To\-List = (Convert\-Invoice\-To\-Rinvoice(Invoice\-List.\-get(i))); if(add\-To\-List != null) Reduced\-Invoice\-List.\-add(add\-To\-List); \} \} catch(\-Exception e) \{ System.\-out.\-println(i + \char`\"{} falsy\char`\"{}); \} \} \} \\
\hline
\end{DoxyParams}


Definition at line 59 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
60     \{   
61         RInvoice returnValue = \textcolor{keyword}{new} RInvoice();
62         \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a22a3a25f59d72d785550054199c9bea9}{AddMetaInformation}(invoice, returnValue, Beleglink);
63         \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a599dbd87601635791534a8624cb8f953}{AddPositions}(invoice, returnValue);
64         \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a47e121912714be2caea8d2619c10a2f0}{validateInvoice}(returnValue);
65         \textcolor{keywordflow}{return} returnValue; 
66     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_ad4fafc7b331a78ef243c3e3ba88803da}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!get\-Instance@{get\-Instance}}
\index{get\-Instance@{get\-Instance}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{get\-Instance}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Invoice\-Reducer} Reduced\-Invoice.\-Invoice\-Reducer.\-get\-Instance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{class_reduced_invoice_1_1_invoice_reducer_ad4fafc7b331a78ef243c3e3ba88803da}


Definition at line 20 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
20                                               \{
21         \textcolor{keywordflow}{if}(uniqueInstance == null) \{
22             \textcolor{keyword}{synchronized}(InvoiceReducer.class)\{
23                 \textcolor{keywordflow}{if}(uniqueInstance == null)\{
24                     uniqueInstance = \textcolor{keyword}{new} InvoiceReducer();
25                 \}
26             \}
27         \}
28         \textcolor{keywordflow}{return} uniqueInstance;
29     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a987de6f3876284a7b456240f85dc066f}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!get\-Meta\-Exception\-Counter@{get\-Meta\-Exception\-Counter}}
\index{get\-Meta\-Exception\-Counter@{get\-Meta\-Exception\-Counter}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{get\-Meta\-Exception\-Counter}]{\setlength{\rightskip}{0pt plus 5cm}static int Reduced\-Invoice.\-Invoice\-Reducer.\-get\-Meta\-Exception\-Counter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a987de6f3876284a7b456240f85dc066f}


Definition at line 294 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
294                                                 \{
295         \textcolor{keywordflow}{return} MetaExceptionCounter;
296     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_ad5034d72d8eae0edc2026c9ca9e66465}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!get\-Position\-Exception\-Counter@{get\-Position\-Exception\-Counter}}
\index{get\-Position\-Exception\-Counter@{get\-Position\-Exception\-Counter}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{get\-Position\-Exception\-Counter}]{\setlength{\rightskip}{0pt plus 5cm}static int Reduced\-Invoice.\-Invoice\-Reducer.\-get\-Position\-Exception\-Counter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{class_reduced_invoice_1_1_invoice_reducer_ad5034d72d8eae0edc2026c9ca9e66465}


Definition at line 298 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
298                                                    \{
299         \textcolor{keywordflow}{return} PositionExceptionCounter;
300     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!Runden@{Runden}}
\index{Runden@{Runden}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{Runden}]{\setlength{\rightskip}{0pt plus 5cm}float Reduced\-Invoice.\-Invoice\-Reducer.\-Runden (
\begin{DoxyParamCaption}
\item[{float}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}


Definition at line 281 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
282     \{
283         \textcolor{keywordflow}{if}(((a*1000) % 10) > 4  )
284         \{
285             a = (float)((\textcolor{keywordtype}{int})(a*100+1))/100; 
286         \}
287         \textcolor{keywordflow}{else}
288         \{
289             a = (float)((\textcolor{keywordtype}{int})(a*100))/100; 
290         \}
291         \textcolor{keywordflow}{return} a;
292     \}
\end{DoxyCode}
\hypertarget{class_reduced_invoice_1_1_invoice_reducer_a47e121912714be2caea8d2619c10a2f0}{\index{Reduced\-Invoice\-::\-Invoice\-Reducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}!validate\-Invoice@{validate\-Invoice}}
\index{validate\-Invoice@{validate\-Invoice}!ReducedInvoice::InvoiceReducer@{Reduced\-Invoice\-::\-Invoice\-Reducer}}
\subsubsection[{validate\-Invoice}]{\setlength{\rightskip}{0pt plus 5cm}void Reduced\-Invoice.\-Invoice\-Reducer.\-validate\-Invoice (
\begin{DoxyParamCaption}
\item[{{\bf R\-Invoice}}]{return\-Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_reduced_invoice_1_1_invoice_reducer_a47e121912714be2caea8d2619c10a2f0}


Definition at line 258 of file Invoice\-Reducer.\-java.


\begin{DoxyCode}
259     \{
260         Error invoiceerror = \hyperlink{enum_reduced_invoice_1_1_a_invoice_1_1_error_ab758351b18ce3163abca9924287fc6df}{Error.NO\_ERROR};
261         \textcolor{keywordtype}{float} GrandTotal = 0;
262         \textcolor{keywordtype}{float} TaxBasisTotal = 0;
263         \textcolor{keywordtype}{float} TaxTotal = 0;
264         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < returnValue.getPositionsLength(); i++)
265         \{
266             GrandTotal = GrandTotal + returnValue.getPosition(i).getPositionPrice().getBrutto();
267             TaxBasisTotal = TaxBasisTotal + returnValue.getPosition(i).getPositionPrice().getNetto();
268             TaxTotal = TaxTotal + (returnValue.getPosition(i).getPositionPrice().getBrutto() - returnValue.
      getPosition(i).getPositionPrice().getNetto());
269         \}
270         GrandTotal = \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}{Runden}(GrandTotal);
271         TaxBasisTotal = \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}{Runden}(TaxBasisTotal);
272         TaxTotal = \hyperlink{class_reduced_invoice_1_1_invoice_reducer_a4d9155f5cc7223ed2659a8567f9ba1ec}{Runden}(TaxTotal);
273         
274         \textcolor{keywordflow}{if}(GrandTotal != returnValue.getTotalPrice().getBrutto() || TaxBasisTotal != returnValue.
      getTotalPrice().getNetto() || TaxTotal != returnValue.getTotalPrice().getSteuer())
275         \{
276             invoiceerror = \hyperlink{enum_reduced_invoice_1_1_a_invoice_1_1_error_a5c521b3b1cc9827b5dba56d42a770481}{Error.PRICE\_ERROR};
277         \}
278         returnValue.setInvoiceError(invoiceerror);
279     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
H\-:/\-Programmierungen/\-Java/taxsynapse/src/main/java/\-Reduced\-Invoice/\hyperlink{_invoice_reducer_8java}{Invoice\-Reducer.\-java}\end{DoxyCompactItemize}
